{"version":3,"sources":["src/imports/data.js","src/imports/poeme.js","src/index.js"],"names":["Poeme","p","phrase","width","height","index","texte","font","fontsize","preload","loadFont","console","log","setup","windowWidth","windowHeight","createCanvas","frameRate","draw","background","readText","data","length","push","fill","textSize","textLeading","textFont","text","join","module","hot","accept","window","location","reload","p5"],"mappings":"AEAA,cAEA;;AAOA;;;;AANA,IAAI8B,MAAM,CAACC,GAAX,CFHe,CEGC;AFFZ,ACDJ,ACIID,EAAAA,MAAM,CAACC,EFHG,CEGV,CAAWC,MAAX,CAAkB,YAAY;AFJnB,AEKPC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACH,GAFD;AAGH;ADLD,IAAMnC,KAAK,GAAG,SAARA,KAAQ,CAACC,CAAD,EAAO;AAEjB,ACMJ,IAAImC,EDNIlC,ACMR,CAAOF,KDNO,GAAG,EAAb,ICMJ;ADLI,MAAIG,KAAJ,EAAWC,MAAX;AACA,MAAIC,KAAK,GAAG,CAAZ;AACA,MAAIC,KAAK,GAAG,EAAZ;AACA,MAAIC,IAAJ;AACA,MAAIC,QAAQ,GAAG,EAAf;;AAEAP,EAAAA,CAAC,CAACQ,OAAF,GAAY,YAAM;AACdF,IAAAA,IAAI,GAAGN,CAAC,CAACS,QAAF,CAAW,gCAAX,CAAP;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYL,IAAZ;AACH,GAHD;;AAKAN,EAAAA,CAAC,CAACY,KAAF,GAAU,YAAM;AAEZV,IAAAA,KAAK,GAAGF,CAAC,CAACa,WAAV;AACAV,IAAAA,MAAM,GAAGH,CAAC,CAACc,YAAX;AAEAd,IAAAA,CAAC,CAACe,YAAF,CAAeb,KAAf,EAAsBC,MAAtB;AACAH,IAAAA,CAAC,CAACgB,SAAF,CAAY,EAAZ;AAEH,GARD;;AAUAhB,EAAAA,CAAC,CAACiB,IAAF,GAAS,YAAM;AACXjB,IAAAA,CAAC,CAACkB,UAAF,CAAa,OAAb;AACAlB,IAAAA,CAAC,CAACmB,QAAF,CAAWC,cAAKf,KAAhB;AACAD,IAAAA,KAAK;AACR,GAJD;;AAMAJ,EAAAA,CAAC,CAACmB,QAAF,GAAa,UAAClB,MAAD,EAAY;AACrB,QAAIG,KAAK,GAAGH,MAAM,CAACoB,MAAnB,EAA2B;AACvB,UAAIpB,MAAM,CAACG,KAAD,CAAN,IAAiB,GAArB,EAA0B;AACtBC,QAAAA,KAAK,CAACiB,IAAN,CAAWrB,MAAM,CAACG,KAAD,CAAjB;AACH,OAFD,MAEO;AACHC,QAAAA,KAAK,GAAG,EAAR;AACH;AAEJ,KAPD,MAOO;AACHA,MAAAA,KAAK,GAAG,EAAR;AACH,KAVoB,CAWrB;;;AACAL,IAAAA,CAAC,CAACuB,IAAF,CAAO,CAAP,EAAUC,QAAV,CAAmBjB,QAAnB,EAA6BkB,WAA7B,CAAyClB,QAAQ,GAAC,CAAlD;AACAP,IAAAA,CAAC,CAAC0B,QAAF,CAAWpB,IAAX;AACAN,IAAAA,CAAC,CAAC2B,IAAF,CAAOtB,KAAK,CAACuB,IAAN,CAAW,EAAX,CAAP,EAAuB,EAAvB,EAA2B,EAA3B,EAA+B1B,KAA/B,EAAsCC,MAAtC;AACH,GAfD;AAkBH,CAhDD;;eAkDeJ","file":"src.a2b27638.js","sourceRoot":"..","sourcesContent":["export default {\n    \"texte\" : \"Murs, ville,\\n\\nEt port,\\nAsile\\nDe mort,\\nMer grise\\nOù brise\\nLa brise,\\nTout dort. $Dans la plaine\\n\\nNaît un bruit.\\nC’est l’haleine\\nDe la nuit.\\nElle brame\\nComme une âme\\nQu’une flamme\\nToujours suit !$La voix plus haute\\n\\nSemble un grelot.\\nD’un nain qui saute\\nC’est le galop.\\nIl fuit, s’élance,\\nPuis en cadence\\nSur un pied danse\\nAu bout d’un flot. $La rumeur approche.\\n\\nL’écho la redit.\\nC’est comme la cloche\\nD’un couvent maudit ;\\nComme un bruit de foule,\\nQui tonne et qui roule,\\nEt tantôt s’écroule,\\nEt tantôt grandit, $Dieu ! la voix sépulcrale\\n\\nDes Djinns !... Quel bruit ils font !\\nFuyons sous la spirale\\nDe l’escalier profond.\\nDéjà s’éteint ma lampe,\\nEt l’ombre de la rampe,\\nQui le long du mur rampe,\\nMonte jusqu’au plafond.$C’est l’essaim des Djinns qui passe,\\n\\nEt tourbillonne en sifflant !\\nLes ifs, que leur vol fracasse,\\nCraquent comme un pin brûlant.\\nLeur troupeau, lourd et rapide,\\nVolant dans l’espace vide,\\nSemble un nuage livide\\nQui porte un éclair au flanc. $Ils sont tout près ! - Tenons fermée\\n\\nCette salle, où nous les narguons.\\nQuel bruit dehors ! Hideuse armée\\nDe vampires et de dragons !\\nLa poutre du toit descellée\\nPloie ainsi qu’une herbe mouillée,\\nEt la vieille porte rouillée\\nTremble, à déraciner ses gonds ! $Cris de l’enfer! voix qui hurle et qui pleure !\\n\\nL’horrible essaim, poussé par l’aquilon,\\nSans doute, ô ciel ! s’abat sur ma demeure.\\nLe mur fléchit sous le noir bataillon.\\nLa maison crie et chancelle penchée,\\nEt l’on dirait que, du sol arrachée,\\nAinsi qu’il chasse une feuille séchée,\\nLe vent la roule avec leur tourbillon ! $Prophète ! si ta main me sauve\\n\\nDe ces impurs démons des soirs,\\nJ’irai prosterner mon front chauve\\nDevant tes sacrés encensoirs !\\nFais que sur ces portes fidèles\\nMeure leur souffle d’étincelles,\\nEt qu’en vain l’ongle de leurs ailes\\nGrince et crie à ces vitraux noirs ! $Ils sont passés ! - Leur cohorte\\n\\nS’envole, et fuit, et leurs pieds\\nCessent de battre ma porte\\nDe leurs coups multipliés.\\nL’air est plein d’un bruit de chaînes,\\nEt dans les forêts prochaines\\nFrissonnent tous les grands chênes,\\nSous leur vol de feu pliés ! $De leurs ailes lointaines\\n\\nLe battement décroît,\\nSi confus dans les plaines,\\nSi faible, que l’on croit\\nOuïr la sauterelle\\nCrier d’une voix grêle,\\nOu pétiller la grêle\\nSur le plomb d’un vieux toit. $D’étranges syllabes\\n\\nNous viennent encor ;\\nAinsi, des arabes\\nQuand sonne le cor,\\nUn chant sur la grève\\nPar instants s’élève,\\nEt l’enfant qui rêve\\nFait des rêves d’or. $Les Djinns funèbres,\\n\\nFils du trépas,\\nDans les ténèbres\\nPressent leurs pas ;\\nLeur essaim gronde :\\nAinsi, profonde,\\nMurmure une onde\\nQu’on ne voit pas. $Ce bruit vague\\n\\nQui s’endort,\\nC’est la vague\\nSur le bord ;\\nC’est la plainte,\\nPresque éteinte,\\nD’une sainte\\nPour un mort. $On doute\\n\\nLa nuit...\\nJ’écoute :\\nTout fuit,\\nTout passe\\nL’espace\\nEfface\\nLe bruit.\"\n}","import data from './data';\n\nconst Poeme = (p) => {\n\n    let phrase = \"\";\n    let width, height;\n    let index = 0;\n    let texte = [];\n    let font;\n    let fontsize = 30;\n\n    p.preload = () => {\n        font = p.loadFont(\"http://localhost:1234/font.otf\");\n        console.log(font)\n    } \n\n    p.setup = () => {\n\n        width = p.windowWidth;\n        height = p.windowHeight;\n\n        p.createCanvas(width, height);\n        p.frameRate(10);\n\n    }\n\n    p.draw = () => {\n        p.background(\"white\");\n        p.readText(data.texte);\n        index++;\n    }\n\n    p.readText = (phrase) => {\n        if (index < phrase.length) {\n            if (phrase[index] != '$') {\n                texte.push(phrase[index]);\n            } else {\n                texte = [];\n            }\n            \n        } else {\n            texte = [];\n        }\n        // console.log(texte)\n        p.fill(0).textSize(fontsize).textLeading(fontsize+3);\n        p.textFont(font)\n        p.text(texte.join(''), 20, 20, width, height);\n    }\n\n    \n} \n\nexport default Poeme;","'use strict';\n\n//Force page refresh on hot reload\nif (module.hot) {\n    module.hot.accept(function () {\n        window.location.reload();\n    })\n}\n\nimport Poeme from './imports/poeme';\nnew p5(Poeme);"]}